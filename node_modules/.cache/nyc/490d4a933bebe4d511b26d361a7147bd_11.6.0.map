{"version":3,"sources":["filterSearchValidator.js"],"names":["FilterSearch","req","res","next","query","category","location","categorize","locate","i","length","toLowerCase","push","status","json"],"mappings":";;;;;;;;AAAA;;;;;;;;AACA;;;IAGMA,Y;;;;;;;;AACJ;;;;;;iCAMoBC,G,EAAKC,G,EAAKC,I,EAAM;AAAA,uBACHF,IAAIG,KADD;AAAA,UAC1BC,QAD0B,cAC1BA,QAD0B;AAAA,UAChBC,QADgB,cAChBA,QADgB;;AAElC,UAAMC,aAAa,EAAnB;AACA,UAAMC,SAAS,EAAf;AACA,UAAIH,QAAJ,EAAc;AACZ,aAAK,IAAII,IAAI,CAAb,EAAgBA,IAAI,qBAAWC,MAA/B,EAAuCD,KAAK,CAA5C,EAA+C;AAC7C,cAAIJ,SAASM,WAAT,OAA2B,qBAAWF,CAAX,EAAcJ,QAAd,CAAuBM,WAAvB,EAA/B,EAAqE;AACnEJ,uBAAWK,IAAX,CAAgB,qBAAWH,CAAX,CAAhB;AACD;AACF;AACD,eAAOP,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBP,UAArB,CAAP;AACD;AACD,UAAID,QAAJ,EAAc;AACZ,aAAK,IAAIG,KAAI,CAAb,EAAgBA,KAAI,qBAAWC,MAA/B,EAAuCD,MAAK,CAA5C,EAA+C;AAC7C,cAAIH,SAASK,WAAT,OAA2B,qBAAWF,EAAX,EAAcH,QAAd,CAAuBK,WAAvB,EAA/B,EAAqE;AACnEH,mBAAOI,IAAP,CAAY,qBAAWH,EAAX,CAAZ;AACD;AACF;AACD,eAAOP,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,MAArB,CAAP;AACD,OAPD,MAOO,IAAI,CAACF,QAAD,IAAa,CAACD,QAAlB,EAA4B;AACjCF;AACD;AACF;;;;;;kBAGYH,Y","file":"filterSearchValidator.js","sourceRoot":"/home/marusoft/Downloads/WEConnect/server/middleware","sourcesContent":["import businesses from '../models/businesses';\n/**\n * @class Search\n */\nclass FilterSearch {\n  /**\n   * @returns {Object} filterSearch\n   * @param {*} req\n   * @param {*} res\n   * @param {*} next\n   */\n  static filterSearch(req, res, next) {\n    const { category, location } = req.query;\n    const categorize = [];\n    const locate = [];\n    if (category) {\n      for (let i = 0; i < businesses.length; i += 1) {\n        if (category.toLowerCase() === businesses[i].category.toLowerCase()) {\n          categorize.push(businesses[i]);\n        }\n      }\n      return res.status(200).json(categorize);\n    }\n    if (location) {\n      for (let i = 0; i < businesses.length; i += 1) {\n        if (location.toLowerCase() === businesses[i].location.toLowerCase()) {\n          locate.push(businesses[i]);\n        }\n      }\n      return res.status(200).json(locate);\n    } else if (!location || !category) {\n      next();\n    }\n  }\n}\n\nexport default FilterSearch;\n"]}